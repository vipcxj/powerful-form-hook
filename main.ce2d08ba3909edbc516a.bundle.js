(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{326:function(module,exports,__webpack_require__){__webpack_require__(327),__webpack_require__(476),module.exports=__webpack_require__(477)},393:function(module,exports){},477:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(312);module._StorybookPreserveDecorators=!0,Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(658),__webpack_require__(659),__webpack_require__(660)],module)}.call(this,__webpack_require__(478)(module))},658:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=658},659:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=659},660:function(module,exports,__webpack_require__){var map={"./index.stories.tsx":673};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=660},673:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Demo",(function(){return Demo})),__webpack_require__.d(__webpack_exports__,"StrictMode",(function(){return StrictMode}));__webpack_require__(32),__webpack_require__(36),__webpack_require__(37),__webpack_require__(65),__webpack_require__(55),__webpack_require__(33),__webpack_require__(113),__webpack_require__(56),__webpack_require__(79),__webpack_require__(26),__webpack_require__(78),__webpack_require__(57),__webpack_require__(39),__webpack_require__(40),__webpack_require__(205),__webpack_require__(87);var InputAdornment=__webpack_require__(708),Switch=__webpack_require__(715),Grid=__webpack_require__(710),TextField=__webpack_require__(714),FormControlLabel=__webpack_require__(712),FormHelperText=__webpack_require__(711),Button=__webpack_require__(713),makeStyles=__webpack_require__(705),react=__webpack_require__(0),react_default=__webpack_require__.n(react);__webpack_require__(29),__webpack_require__(131),__webpack_require__(54),__webpack_require__(207),__webpack_require__(91),__webpack_require__(264),__webpack_require__(664),__webpack_require__(191),__webpack_require__(201),__webpack_require__(203),__webpack_require__(299),__webpack_require__(80),__webpack_require__(665),__webpack_require__(666),__webpack_require__(127),__webpack_require__(76),__webpack_require__(204),__webpack_require__(667),__webpack_require__(58);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(Class){if(null===Class||!function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)})(Class)}function _construct(){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var FieldValidateError=function(_Error){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(FieldValidateError,_Error);var _super=function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}(FieldValidateError);function FieldValidateError(field,message){var _this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FieldValidateError),(_this=_super.call(this,message)).field=field;var actualProto=(this instanceof FieldValidateError?this.constructor:void 0).prototype;return Object.setPrototypeOf?Object.setPrototypeOf(_assertThisInitialized(_this),actualProto):_assertThisInitialized(_this).__proto__=actualProto,_this}return FieldValidateError}(_wrapNativeSuper(Error));function mapValues(values,transformer,filter){for(var _key,result={},_i=0,_Object$keys=Object.keys(values);_i<_Object$keys.length;_i++)_key=_Object$keys[_i],filter&&!filter(_key,values[_key])||(result[_key]=transformer(_key,values[_key]));return result}var VERSION=0,Error_Keep={keep:!0},Error_Reset={reset:!0};function mergeError(states,errors,version){for(var change=!1,newStates=_objectSpread({},states),_i2=0,_Object$keys2=Object.keys(states);_i2<_Object$keys2.length;_i2++){var _key2=_Object$keys2[_i2];if(version>=newStates[_key2].version){var _error=errors[_key2];_error===Error_Reset?(newStates[_key2]={error:void 0,message:void 0,version:version},change=!0):!1===_error?(newStates[_key2]={error:!1,message:void 0,version:version},change=!0):"string"==typeof _error&&(newStates[_key2]={error:!0,message:_error,version:version},change=!0)}}return change?newStates:states}function hasError(errors,errorsPatch,globalError,version){var newErrors=errorsPatch?mergeError(errors,errorsPatch,version):{};return Object.keys(newErrors).some((function(key){return newErrors[key].error}))||"string"==typeof globalError}function isTriggerSimpleOption(option){return"string"==typeof option}var TriggerMatch,DEFAULT_TRIGGER_OPTIONS=["change","blur"];function extractTrigger(field,meta,submit){var m=meta[field];return m.change?"change":m.blur?"blur":submit?"submit":null}function isFunctionValidator(processor){return processor&&!Array.isArray(processor)&&"function"==typeof processor}function isObjectValidator(processor){return processor&&!Array.isArray(processor)&&"function"!=typeof processor}function isArrayValidator(processor){return processor&&Array.isArray(processor)}function checkTriggers(triggers,trigger,ownerField,triggerField,extraTriggers){if(isTriggerSimpleOption(triggers)){if(trigger===triggers&&ownerField===triggerField)return"change"===trigger?TriggerMatch.FullMatch:TriggerMatch.OptionMatch;if(trigger+"!"===triggers&&ownerField===triggerField)return TriggerMatch.FullMatch}else{if(!function isTriggerObjectOption(option){return!Array.isArray(option)&&!isTriggerSimpleOption(option)}(triggers)){var _step,optionMatch=!1,_iterator=_createForOfIteratorHelper(triggers);try{for(_iterator.s();!(_step=_iterator.n()).done;){var match=checkTriggers(_step.value,trigger,ownerField,triggerField,extraTriggers);if(match===TriggerMatch.FullMatch)return match;match===TriggerMatch.OptionMatch&&(optionMatch=!0)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return optionMatch?TriggerMatch.OptionMatch:TriggerMatch.NotMatch}var triggerOpt=triggers.trigger,_triggers$fields=triggers.fields,fields=void 0===_triggers$fields?[]:_triggers$fields;if(trigger===triggerOpt&&(ownerField===triggerField||-1!==fields.indexOf(triggerField)))return"change"===trigger?TriggerMatch.FullMatch:TriggerMatch.OptionMatch;if(trigger+"!"===triggerOpt&&(ownerField===triggerField||-1!==fields.indexOf(triggerField)))return TriggerMatch.FullMatch}return extraTriggers?checkTriggers(extraTriggers,trigger,ownerField,triggerField):TriggerMatch.NotMatch}function processFieldValidator(){return _processFieldValidator.apply(this,arguments)}function _processFieldValidator(){return(_processFieldValidator=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(errorsOut,values,errors,processor,processorField,trigger,triggerField){var triggers,validate,match,_iterator3,_step3,subProcessor;return regeneratorRuntime.wrap((function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(!isFunctionValidator(processor)&&!isObjectValidator(processor)){_context6.next=11;break}if(isFunctionValidator(processor)?(triggers=DEFAULT_TRIGGER_OPTIONS,validate=processor):(triggers=processor.triggers,validate=processor.validate),(match=checkTriggers(triggers,trigger,processorField,triggerField,"submit"))!==TriggerMatch.NotMatch){_context6.next=5;break}return _context6.abrupt("return");case 5:if(match!==TriggerMatch.FullMatch&&void 0!==errors[processorField].error){_context6.next=9;break}return _context6.next=8,validate(values[processorField],errors[processorField],values,errors,trigger);case 8:errorsOut[processorField]!==Error_Reset&&(errorsOut[processorField]="change"===trigger&&Error_Reset);case 9:_context6.next=29;break;case 11:if(!isArrayValidator(processor)){_context6.next=29;break}_iterator3=_createForOfIteratorHelper(processor),_context6.prev=13,_iterator3.s();case 15:if((_step3=_iterator3.n()).done){_context6.next=21;break}return subProcessor=_step3.value,_context6.next=19,processFieldValidator(errorsOut,values,errors,subProcessor,processorField,trigger,triggerField);case 19:_context6.next=15;break;case 21:_context6.next=26;break;case 23:_context6.prev=23,_context6.t0=_context6.catch(13),_iterator3.e(_context6.t0);case 26:return _context6.prev=26,_iterator3.f(),_context6.finish(26);case 29:case"end":return _context6.stop()}}),_callee5,null,[[13,23,26,29]])})))).apply(this,arguments)}function createKeepErrors(errorsState){return mapValues(errorsState,(function(){return Error_Keep}))}!function(TriggerMatch){TriggerMatch[TriggerMatch.FullMatch=0]="FullMatch",TriggerMatch[TriggerMatch.OptionMatch=1]="OptionMatch",TriggerMatch[TriggerMatch.NotMatch=2]="NotMatch"}(TriggerMatch||(TriggerMatch={}));__webpack_require__(308),__webpack_require__(668),__webpack_require__(669),__webpack_require__(670),__webpack_require__(77),__webpack_require__(300),__webpack_require__(671);function validate_createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function validate_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return validate_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return validate_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function validate_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function sameWithWhenExists(field,message){return function(value,_,values){if(values[field]&&value!==values[field])throw message||"Should same with ".concat(field)}}var REG_EMAIL=/^((([a-z]|\d|[!#$%&'*+\-/=?^_`{|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#$%&'*+\-/=?^_`{|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)(((([\x20\x09])*(\x0d\x0a))?([\x20\x09])+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*((([\x20\x09])*(\x0d\x0a))?([\x20\x09])+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,REG_SPECIAL=/[`~!@#$%^&*()\-_=+[\]{}\\|;:'",<.>/?]+/;function globalRegExp(input){var pattern=input.source,flags="g";return input.ignoreCase&&(flags+="i"),input.multiline&&(flags+="m"),new RegExp(pattern,flags)}function composedOf(){for(var message=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Invalid input",_len3=arguments.length,parts=Array(1<_len3?_len3-1:0),_key3=1;_key3<_len3;_key3++)parts[_key3-1]=arguments[_key3];var copyParts=parts.map((function(part){return globalRegExp(part)}));return function(value){if(value){var _step2,strValue=value,_iterator2=validate_createForOfIteratorHelper(copyParts);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var part=_step2.value;strValue=strValue.replace(part,"")}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}if(strValue)throw message}}}function matchSomeOf(message){for(var _len4=arguments.length,parts=Array(1<_len4?_len4-1:0),_key4=1;_key4<_len4;_key4++)parts[_key4-1]=arguments[_key4];return function(value){if(value){var _step3,test=!1,_iterator3=validate_createForOfIteratorHelper(parts);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){if(_step3.value.test(value)){test=!0;break}}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}if(!test)throw message||"Must matches ".concat(parts.map((function(reg){return"/".concat(reg.source,"/")})))}}}function notMatchSomeOf(message){for(var _len5=arguments.length,parts=Array(1<_len5?_len5-1:0),_key5=1;_key5<_len5;_key5++)parts[_key5-1]=arguments[_key5];return function(value){if(value){var _step4,test=!0,_iterator4=validate_createForOfIteratorHelper(parts);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){if(!_step4.value.test(value)){test=!1;break}}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}if(test)throw message||"Must matches ".concat(parts.map((function(reg){return"/".concat(reg.source,"/")})))}}}function string(message){var others=[],validator=function(value,error,values,errors,trigger){if(null==value||"string"!=typeof value)throw message||"Must be string";var _step5,_iterator5=validate_createForOfIteratorHelper(others);try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){(0,_step5.value)(value,error,values,errors,trigger)}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}};return validator.required=function(message){return others.push(function required(){var message=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Required";return function(value){if(!value)throw message}}(message)),validator},validator.trimmed=function(message){return others.push(function trimmed(){var message=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Must be Trimmed";return function(value){if(value&&value.trim()!==value)throw message}}(message)),validator},validator.sameWith=function(field,message){return others.push(function sameWith(field,message){return function(value,_,values){if(!value&&!values[field]||value!==values[field])throw message||"Should same with ".concat(field)}}(field,message)),validator},validator.sameWithWhenExists=function(field,message){return others.push(sameWithWhenExists(field,message)),validator},validator.isEmail=function(message){return others.push(function isEmail(){var message=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Invalid email";return function(value){if(value&&!REG_EMAIL.test(value))throw message}}(message)),validator},validator.composedOf=function(message){for(var _len6=arguments.length,parts=Array(1<_len6?_len6-1:0),_key6=1;_key6<_len6;_key6++)parts[_key6-1]=arguments[_key6];return others.push(composedOf.apply(void 0,[message].concat(parts))),validator},validator.matchSomeOf=function(message){for(var _len7=arguments.length,orRegexps=Array(1<_len7?_len7-1:0),_key7=1;_key7<_len7;_key7++)orRegexps[_key7-1]=arguments[_key7];return others.push(matchSomeOf.apply(void 0,[message].concat(orRegexps))),validator},validator.notMatchSomeOf=function(message){for(var _len8=arguments.length,orRegexps=Array(1<_len8?_len8-1:0),_key8=1;_key8<_len8;_key8++)orRegexps[_key8-1]=arguments[_key8];return others.push(notMatchSomeOf.apply(void 0,[message].concat(orRegexps))),validator},validator.max=function(len,message){return others.push(function max(num,message){return function(value){if(value&&value.length>num)throw message||"Should be shorter or equal than ".concat(num)}}(len,message)),validator},validator.min=function(len,message){return others.push(function min(num,message){return function(value){if(value&&value.length<num)throw message||"Should be longer or equal than ".concat(num)}}(len,message)),validator},validator}function index_stories_slicedToArray(arr,i){return function index_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function index_stories_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function index_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return index_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return index_stories_arrayLikeToArray(o,minLen)}(arr,i)||function index_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function index_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function index_stories_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function index_stories_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){index_stories_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){index_stories_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}__webpack_exports__.default={title:"useForm"};var CheckingStatus,useStyles=Object(makeStyles.a)((function(theme){return{root:{width:"calc(100% - ".concat(2*theme.spacing(3),"px)"),margin:theme.spacing(3),marginTop:theme.spacing(6)},submit:{margin:theme.spacing(3,0,2)}}})),sleep=function(){var _ref=index_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee(time){return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",new Promise((function(resolve){return setTimeout(resolve,time)})));case 1:case"end":return _context.stop()}}),_callee)})));return function(){return _ref.apply(this,arguments)}}();!function(CheckingStatus){CheckingStatus[CheckingStatus.Unchecked=0]="Unchecked",CheckingStatus[CheckingStatus.Checking=1]="Checking",CheckingStatus[CheckingStatus.Valid=2]="Valid",CheckingStatus[CheckingStatus.Invalid=3]="Invalid"}(CheckingStatus||(CheckingStatus={}));var _ref2=react.createElement(InputAdornment.a,{position:"end"},"checking..."),index_stories_ref3=react.createElement(InputAdornment.a,{position:"end"},"valid"),_ref4=react.createElement(InputAdornment.a,{position:"end"},"invalid");function createCheckStatusAdornment(status){switch(status){case CheckingStatus.Unchecked:return{};case CheckingStatus.Checking:return{endAdornment:_ref2};case CheckingStatus.Valid:return{endAdornment:index_stories_ref3};case CheckingStatus.Invalid:return{endAdornment:_ref4}}}var _ref6=react.createElement(Switch.a,null),Demo=function(){var _React$useState2=index_stories_slicedToArray(react.useState(CheckingStatus.Unchecked),2),nameStatus=_React$useState2[0],setNameStatus=_React$useState2[1],nameAdornment=react.useMemo((function(){return createCheckStatusAdornment(nameStatus)}),[nameStatus]),_React$useState4=index_stories_slicedToArray(react.useState(CheckingStatus.Unchecked),2),emailStatus=_React$useState4[0],setEmailStatus=_React$useState4[1],emailAdornment=react.useMemo((function(){return createCheckStatusAdornment(emailStatus)}),[emailStatus]),initialValues=react.useMemo((function(){return{userName:"",email:"",password:"",conformedPassword:"",agreement:!1}}),[]),classes=useStyles(),_useForm=function(_ref3){var initialValues=_ref3.initialValues,validate=_ref3.validate,onSubmit=_ref3.onSubmit,fixedInitialValues=_slicedToArray(react_default.a.useState(initialValues),1)[0],_React$useState4=_slicedToArray(react_default.a.useState(fixedInitialValues),2),values=_React$useState4[0],setValues=_React$useState4[1],fieldsSetters=react_default.a.useMemo((function(){return mapValues(fixedInitialValues,(function(key){return function(value){return setValues((function(preValues){var newValue="function"==typeof value?value(preValues[key]):value;return _objectSpread(_objectSpread({},preValues),{},_defineProperty({},key,newValue))}))}}))}),[fixedInitialValues]),_React$useState6=_slicedToArray(react_default.a.useState((function(){return mapValues(fixedInitialValues,(function(){return{error:void 0,message:void 0,version:++VERSION}}))})),2),errors=_React$useState6[0],setErrors=_React$useState6[1],_React$useState8=_slicedToArray(react_default.a.useState([]),2),validatingState=_React$useState8[0],setValidatingState=_React$useState8[1],validating=0<validatingState.length,_React$useState10=_slicedToArray(react_default.a.useState(!1),2),submitting=_React$useState10[0],setSubmitting=_React$useState10[1],unmountRef=react_default.a.useRef(!1);react_default.a.useEffect((function(){return function(){unmountRef.current=!0}}),[]);var _React$useState12=_slicedToArray(react_default.a.useState((function(){return{error:void 0,message:void 0,version:++VERSION}})),2),globalErrors=_React$useState12[0],setGlobalErrors=_React$useState12[1],setFieldError=react_default.a.useCallback((function(field,error){setErrors((function(preErrors){var newError="function"==typeof error?error(preErrors[field].error?preErrors[field].message:null):error;return _objectSpread(_objectSpread({},preErrors),{},_defineProperty({},field,{error:null!=newError,message:null!=newError?newError:void 0,version:++VERSION}))}))}),[]),setGlobalError=react_default.a.useCallback((function(error){setGlobalErrors((function(prevErrors){var newError="function"==typeof error?error(prevErrors.error?prevErrors.message:null):error;return{error:null!=newError,message:null!=newError?newError:void 0,version:++VERSION}}))}),[]),execValidate=react_default.a.useCallback(function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(values,meta,submit){var version,errorsPatch,globalError,errorsOut,_errorsOut,uncatchedError,fields,_errorsOut2,_iterator2,_step2,_field,_error2;return regeneratorRuntime.wrap((function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return version=++VERSION,errorsPatch=null,globalError=null,_context4.prev=3,setValidatingState((function(prevState){return[].concat(_toConsumableArray(prevState),[version])})),_context4.next=7,validate(values,errors,meta,submit);case 7:errorsOut=_context4.sent,unmountRef.current||setErrors((function(preErrors){return mergeError(preErrors,errorsOut,version)})),errorsPatch=errorsOut,_context4.next=15;break;case 12:if(_context4.prev=12,_context4.t0=_context4.catch(3),!unmountRef.current)if(_context4.t0 instanceof FieldValidateError)(_errorsOut=createKeepErrors(errors))[_context4.t0.field]="".concat(_context4.t0.message||""),setErrors((function(preErrors){return mergeError(preErrors,_errorsOut,version)})),errorsPatch=_errorsOut;else if(uncatchedError="string"==typeof _context4.t0?_context4.t0:"".concat(_context4.t0.message)||"",0<(fields=Object.keys(meta).filter((function(key){return meta[key].change||meta[key].blur}))).length){_errorsOut2=errorsPatch=createKeepErrors(errors),_iterator2=_createForOfIteratorHelper(fields);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;)_field=_step2.value,errorsPatch[_field]=uncatchedError}catch(err){_iterator2.e(err)}finally{_iterator2.f()}setErrors((function(preErrors){return mergeError(preErrors,_errorsOut2,version)})),errorsPatch=_errorsOut2}else _error2={error:!0,message:globalError=uncatchedError,version:version},setGlobalErrors((function(prevError){return version>=prevError.version?_error2:prevError}));case 15:return _context4.prev=15,setValidatingState((function(prevState){var index=prevState.indexOf(version);if(0<=index){var newState=_toConsumableArray(prevState);return newState.splice(index,1),newState}return prevState})),_context4.finish(15);case 18:return _context4.abrupt("return",[errorsPatch,globalError,version]);case 19:case"end":return _context4.stop()}}),_callee3,null,[[3,12,15,18]])})));return function(){return _ref4.apply(this,arguments)}}(),[setValidatingState,validate,errors,setErrors,setGlobalErrors]),handleChanges=react_default.a.useMemo((function(){return mapValues(fixedInitialValues,(function(key){var meta=mapValues(fixedInitialValues,(function(k){return{change:k===key,blur:!1}})),handleChange=function(value){if(!submitting){var target=value;(value instanceof Event||value.originalEvent instanceof Event||value.nativeEvent instanceof Event)&&(target=value.target.value),setValues((function(preValues){var newValues=_objectSpread(_objectSpread({},preValues),{},_defineProperty({},key,target));return execValidate(newValues,meta,!1),newValues}))}};return handleChange.checked=function(value){var target=value;(value instanceof Event||value.originalEvent instanceof Event||value.nativeEvent instanceof Event)&&(target=value.target.checked),handleChange(target)},handleChange}))}),[execValidate,fixedInitialValues,submitting]),handleBlurs=react_default.a.useMemo((function(){return mapValues(fixedInitialValues,(function(key){var meta=mapValues(fixedInitialValues,(function(k){return{change:!1,blur:k===key}}));return function(evt){submitting||(evt.preventDefault(),execValidate(values,meta,!1))}}))}),[execValidate,fixedInitialValues,submitting,values]),handleSubmit=react_default.a.useCallback(function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(evt){var _meta,_yield$execValidate,_yield$execValidate2,errorsPatch,newGlobalError,version;return regeneratorRuntime.wrap((function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(evt&&evt.preventDefault&&evt.preventDefault(),!validating&&!submitting){_context5.next=3;break}return _context5.abrupt("return",!1);case 3:return setSubmitting(!0),_context5.prev=4,_meta=mapValues(fixedInitialValues,(function(){return{change:!1,blur:!1}})),_context5.next=8,execValidate(values,_meta,!0);case 8:if(_yield$execValidate=_context5.sent,_yield$execValidate2=_slicedToArray(_yield$execValidate,3),errorsPatch=_yield$execValidate2[0],newGlobalError=_yield$execValidate2[1],version=_yield$execValidate2[2],hasError(errors,errorsPatch,newGlobalError,version)||unmountRef.current){_context5.next=19;break}return _context5.next=16,onSubmit(values);case 16:return _context5.abrupt("return",!0);case 19:return _context5.abrupt("return",!1);case 20:return _context5.prev=20,setSubmitting(!1),_context5.finish(20);case 23:case"end":return _context5.stop()}}),_callee4,null,[[4,,20,23]])})));return function(){return _ref5.apply(this,arguments)}}(),[errors,execValidate,fixedInitialValues,onSubmit,submitting,validating,values]);return{values:values,fieldsSetters:fieldsSetters,errors:errors,globalError:globalErrors,setFieldError:setFieldError,setGlobalError:setGlobalError,handleChanges:handleChanges,handleBlurs:handleBlurs,handleSubmit:handleSubmit,submitting:submitting,validating:validating}}({initialValues:initialValues,validate:react.useMemo((function(){return function createValidator(processors){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(values,errors,meta,submit){var errorsOut,fields,_loop,_i3,_fields;return regeneratorRuntime.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:errorsOut=createKeepErrors(errors),fields=Object.keys(processors),_loop=regeneratorRuntime.mark((function(){var field,_trigger,tasks;return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(field=_fields[_i3],!(meta[field].change||meta[field].blur||submit)){_context2.next=6;break}return _trigger=extractTrigger(field,meta,submit),tasks=fields.map(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(processorField){var processor;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,processor=processors[processorField],_context.next=4,processFieldValidator(errorsOut,values,errors,processor,processorField,_trigger,field);case 4:_context.next=9;break;case 6:_context.prev=6,_context.t0=_context.catch(0),_context.t0 instanceof FieldValidateError?errorsOut[_context.t0.field]="string"==typeof _context.t0?_context.t0:"".concat(_context.t0.message||""):errorsOut[processorField]="string"==typeof _context.t0?_context.t0:"".concat(_context.t0.message||"");case 9:case"end":return _context.stop()}}),_callee,null,[[0,6]])})));return function(){return _ref2.apply(this,arguments)}}()),_context2.next=6,Promise.all(tasks);case 6:case"end":return _context2.stop()}}),_loop)})),_i3=0,_fields=fields;case 4:if(!(_i3<_fields.length)){_context3.next=9;break}return _context3.delegateYield(_loop(),"t0",6);case 6:_i3++,_context3.next=4;break;case 9:return _context3.abrupt("return",errorsOut);case 10:case"end":return _context3.stop()}}),_callee2)})));return function(){return _ref.apply(this,arguments)}}()}({userName:[string().required("用户名是必须的").trimmed("两边不能有空格"),{triggers:"blur",validate:(_validate=index_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee2(value){return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return setNameStatus(CheckingStatus.Checking),_context2.next=3,sleep(1e3);case 3:if("vipcxj"===value){_context2.next=6;break}throw setNameStatus(CheckingStatus.Invalid),"用户名已被使用";case 6:setNameStatus(CheckingStatus.Valid);case 7:case"end":return _context2.stop()}}),_callee2)}))),function validate(){return _validate.apply(this,arguments)})}],email:[string().required("电子邮箱是必须的").trimmed("两边不能有空格"),{triggers:"blur",validate:(_validate2=index_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee3(value){return regeneratorRuntime.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return setEmailStatus(CheckingStatus.Checking),_context3.next=3,sleep(3e3);case 3:if("vipcxj@form.com"===value){_context3.next=6;break}throw setEmailStatus(CheckingStatus.Invalid),"电子邮箱已被使用";case 6:setEmailStatus(CheckingStatus.Valid);case 7:case"end":return _context3.stop()}}),_callee3)}))),function validate(){return _validate2.apply(this,arguments)})}],password:[string().required("密码是必须的").composedOf("必须由大小写字母, 数字和键盘特殊符号组成",/[a-z]+/i,/\d+/,REG_SPECIAL).matchSomeOf("密码必须包含大写字母或键盘特殊符号",/[A-Z]+/,REG_SPECIAL).min(6,"密码长度必须大于等于6").max(24,"密码长度必须小于等于24"),{triggers:{trigger:"blur!",fields:["conformedPassword"]},validate:sameWithWhenExists("conformedPassword","两次输入的密码必须相同")}],conformedPassword:[string("必须是字符串"),{triggers:{trigger:"blur!",fields:["password"]},validate:sameWithWhenExists("password","两次输入的密码必须相同")}],agreement:function agreement(value){if(!value)throw"必须同意网站条款"}});var _validate2,_validate}),[initialValues]),onSubmit:react.useCallback(index_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){return regeneratorRuntime.wrap((function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,sleep(2500);case 2:alert("提交成功");case 3:case"end":return _context4.stop()}}),_callee4)}))),[])}),errors=_useForm.errors,values=_useForm.values,handleChanges=_useForm.handleChanges,handleBlurs=_useForm.handleBlurs,handleSubmit=_useForm.handleSubmit,submitting=_useForm.submitting,validating=_useForm.validating;return react.createElement("form",{className:classes.root,onSubmit:handleSubmit,noValidate:!0},react.createElement(Grid.a,{container:!0,spacing:2},react.createElement(Grid.a,{item:!0,xs:12},react.createElement(TextField.a,{variant:"outlined",fullWidth:!0,id:"userName",name:"userName",label:"用户名","aria-label":"用户名",autoComplete:"userName",autoFocus:!0,value:values.userName,onChange:handleChanges.userName,onBlur:handleBlurs.userName,error:errors.userName.error,helperText:errors.userName.message,InputProps:nameAdornment})),react.createElement(Grid.a,{item:!0,xs:12},react.createElement(TextField.a,{variant:"outlined",fullWidth:!0,id:"email",name:"email",label:"电子邮箱","aria-label":"电子邮箱",autoComplete:"email",type:"email",value:values.email,onChange:handleChanges.email,onBlur:handleBlurs.email,error:errors.email.error,helperText:errors.email.message,InputProps:emailAdornment})),react.createElement(Grid.a,{item:!0,xs:12},react.createElement(TextField.a,{variant:"outlined",fullWidth:!0,id:"password",label:"密码","aria-label":"密码",autoComplete:"password",type:"password",value:values.password,onChange:handleChanges.password,onBlur:handleBlurs.password,error:errors.password.error,helperText:errors.password.message})),react.createElement(Grid.a,{item:!0,xs:12},react.createElement(TextField.a,{variant:"outlined",fullWidth:!0,id:"confirmPassword",label:"重复密码","aria-label":"密码",autoComplete:"password",type:"password",value:values.conformedPassword,onChange:handleChanges.conformedPassword,onBlur:handleBlurs.conformedPassword,error:errors.conformedPassword.error,helperText:errors.conformedPassword.message})),react.createElement(Grid.a,{item:!0,xs:12},react.createElement(FormControlLabel.a,{control:_ref6,label:"是否同意网站服务条款",value:values.agreement,checked:values.agreement,onChange:handleChanges.agreement.checked,onBlur:handleBlurs.agreement}),react.createElement(FormHelperText.a,{error:errors.agreement.error},errors.agreement.message))),react.createElement(Button.a,{className:classes.submit,type:"submit",variant:"contained",color:"primary"},"Submit"),submitting?"Submitting...":validating?"Validating...":null)};Demo.displayName="Demo";var _ref7=react.createElement(react.StrictMode,null,react.createElement(Demo,null)),StrictMode=function(){return _ref7};StrictMode.displayName="StrictMode",Demo.__docgenInfo={description:"",methods:[],displayName:"Demo"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories\\index.stories.tsx"]={name:"Demo",docgenInfo:Demo.__docgenInfo,path:"stories\\index.stories.tsx"}),StrictMode.__docgenInfo={description:"",methods:[],displayName:"StrictMode"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories\\index.stories.tsx"]={name:"StrictMode",docgenInfo:StrictMode.__docgenInfo,path:"stories\\index.stories.tsx"})}},[[326,1,2]]]);
//# sourceMappingURL=main.ce2d08ba3909edbc516a.bundle.js.map